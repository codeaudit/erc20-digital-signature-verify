
<header class="text-center">
<h1>Authentication + Wallet Demo<br><small>(Using Injected MetaMask)</small></h1>
<h5>This app demonstrates the concept of how ECDSA can be used in practice.<br>You dont need an email to create someone's account.<br>ECDSA + MetaMask + Angular + EthJS</h5>
<a class="btn btn-primary" href="https://www.maximintegrated.com/en/app-notes/index.mvp/id/5767">View More on ECDSA...</a>    
<a class="btn btn-primary" href="https://metamask.io/">View More on Metamask...</a>
<a class="btn btn-primary" href="https://github.com/MetaMask/eth-sig-util/">View More on Eth-Sig-Util...</a>
</header>  

<br>
<h2>1) Identification by Message Signature</h2>
<h4>Provide a Unique Random Message for the user.<br>The user must sign the message and provide the result.</h4>
<h4>Account: {{model.account}}<br/>Balance: {{model.balance}} Token</h4>
<br><label for="msgParams.rawText">Raw Text:</label><input type="text" id="msgParams.rawText" [value]="model.msgParams.rawText" placeholder="These are the terms and conditions" (change)="setMessageRawText($event)">
<br><label for="msgParams.hexEncodedMsg">Hashed Text:</label><input type="text" id="msgParams.hexEncodedMsg" [value]="model.msgParams.hexEncodedMsg" placeholder="0x..." (change)="setMessageHashedText($event)">
<button id="ethjsPersonalSignButton" (click)="ethjsPersonalSignButton($event)">ethjs personal sign</button>
<br><label for="msgParams.sig">Signature:</label><input type="text" id="msgParams.sig" [value]="model.msgParams.sig" placeholder="< digital signature >" (change)="setMessageSignature($event)">

<br>
<h2>2) Verify (run this code on the server side in node)</h2>
<h4>   Without knowing the user,  you can verify...</h4>
<h4>   that the user must own that private key using ECDSA.</h4>
<button id="ethjsPersonalSignButton" (click)="ethjsPersonalVerifyButton($event)">ethjs personal verify</button>
<br><label for="msgParams.recoveredAddress">Recovered Address:</label>{{model.msgParams.recoveredAddress}}
<br><label for="msgParams.recoveredAddress">Address Matched:</label>{{model.msgParams.addressMatched}}

<br>
<div [hidden]="!model.msgParams.addressMatched">
<h2>3) Send Tokens After Logging in</h2>
<h4>{{model.account}}<br/>{{model.balance}} Token<br>Contract at address: {{model.contractAddress}}</h4>
<label for="amount">Amount:</label><input type="text" id="amount" placeholder="e.g., 95" (change)="setAmount($event)">
<br><label for="receiver">To Address:</label><input type="text" id="receiver" placeholder="e.g., 0x93e66d9baea28c17d9fc393b53e3fbdd76899dae" (change)="setReceiver($event)">
<br><br><button id="send" (click)="sendCoin()">Send Tokens</button>
	<br><br><button id="approve" (click)="approve()">Approve Tokens</button>
<br><br>
<span id="status">{{status}}</span>
</div>
